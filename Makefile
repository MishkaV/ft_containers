# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: jbenjy <jbenjy@student.21-school.ru>       +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2022/05/07 13:42:13 by jbenjy            #+#    #+#              #
#    Updated: 2022/05/07 14:21:11 by jbenjy           ###   ########.fr        #
#                                                                              #
# **************************************************************************** #


NAME 			= ft_containers

DIR_SRCS		= srcs
DIR_INCL		= includes
DIR_TEMP 		= temp

SRC 			= main.cpp

SRCS_COMP		= $(patsubst %.cpp, %.o, $(SRC))
PATH_TEMP		= $(addprefix $(DIR_TEMP)/, $(SRCS_COMP))

HEAD			= ft_containers.hpp

HEADS 			= $(addprefix $(DIR_INCL)/, $(HEAD))

CC				= clang++
CFLAGS			= -Werror -Wextra -Wall -std=c++98 -g

GREEN			=	\033[0;32m
YELLOW			=	\033[0;33m

WORD_CLEANING	=	████─█───███─████─█──█─███─█──█─███─████\n\
					█──█─█───█───█──█─██─█──█──██─█──█──█\n\
					█────█───███─████─█─██──█──█─██──█──█─██\n\
					█──█─█───█───█──█─█──█──█──█──█──█──█──█\n\
					████─███─███─█──█─█──█─███─█──█─███─████─█─█─█\n

WORD_FCLEANING	=	███─████─█───███─████─█──█─███─█──█─███─████\n\
					█───█──█─█───█───█──█─██─█──█──██─█──█──█\n\
					███─█────█───███─████─█─██──█──█─██──█──█─██\n\
					█───█──█─█───█───█──█─█──█──█──█──█──█──█──█\n\
					█───████─███─███─█──█─█──█─███─█──█─███─████─█─█─█\n

WORD_SUCCESS	=	███─█─█─████─████─███─███─███─█\n\
					█───█─█─█──█─█──█─█───█───█───█\n\
					███─█─█─█────█────███─███─███─█\n\
					──█─█─█─█──█─█──█─█─────█───█\n\
					███─███─████─████─███─███─███─█\n

WORD_FT_CONTAINERS	=	███████╗████████╗░█████╗░░█████╗░███╗░░██╗████████╗░█████╗░██╗███╗░░██╗███████╗██████╗░░██████╗\n\
						██╔════╝╚══██╔══╝██╔══██╗██╔══██╗████╗░██║╚══██╔══╝██╔══██╗██║████╗░██║██╔════╝██╔══██╗██╔════╝\n\
						█████╗░░░░░██║░░░██║░░╚═╝██║░░██║██╔██╗██║░░░██║░░░███████║██║██╔██╗██║█████╗░░██████╔╝╚█████╗░\n\
						██╔══╝░░░░░██║░░░██║░░██╗██║░░██║██║╚████║░░░██║░░░██╔══██║██║██║╚████║██╔══╝░░██╔══██╗░╚═══██╗\n\
						██║░░░░░░░░██║░░░╚█████╔╝╚█████╔╝██║░╚███║░░░██║░░░██║░░██║██║██║░╚███║███████╗██║░░██║██████╔╝\n\
						╚═╝░░░░░░░░╚═╝░░░░╚════╝░░╚════╝░╚═╝░░╚══╝░░░╚═╝░░░╚═╝░░╚═╝╚═╝╚═╝░░╚══╝╚══════╝╚═╝░░╚═╝╚═════╝░\n

all:	${NAME}

$(NAME): $(PATH_TEMP)
		@echo "${YELLOW} ${WORD_FT_CONTAINERS}${NORMAL}"
		@$(CC) $(CFLAGS) -I $(HEADS) $(PATH_TEMP) -o $@
		@echo "${GREEN} ${WORD_SUCCESS}${NORMAL}"

$(DIR_TEMP)/%.o: $(DIR_SRCS)/%.cpp $(HEADS) Makefile
		@mkdir -p $(DIR_TEMP)
		@$(CC) $(CFLAGS) -I $(HEADS) -c $< -o $@

clean:
		@echo "${YELLOW} ${WORD_CLEANING}${NORMAL}"
		@rm -rf $(DIR_TEMP)
		@echo "${GREEN} ${WORD_SUCCESS}${NORMAL}"
		

fclean:	
		@echo "${YELLOW} ${WORD_FCLEANING}${NORMAL}"
		@rm -rf $(DIR_TEMP)
		@rm -f $(NAME)
		@echo "${GREEN} ${WORD_SUCCESS}${NORMAL}"

re:		fclean all